<app-asset-filter (applyFilter)="showFilter($event)"></app-asset-filter>


<div class="asset-header">
  <div class="btn-group toggle-button" role="group" aria-label="Basic radio toggle button group">
    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked [(ngModel)]="selectedView" value="card">
    <label class="btn btn-outline-primary custom-label" for="btnradio1"><span>Card View</span></label>

    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off" [(ngModel)]="selectedView" value="table">
    <label class="btn btn-outline-primary custom-label" for="btnradio2"><span>Table View</span></label>
  </div>

  <div class="filter-section">
    <div class="justify-content-end form-check rightSide" *ngIf="selectedView === 'card'">
      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" [(ngModel)]="isArchived" (change)="onCheckboxChange($event)">
      <label class="form-check-label" for="flexCheckDefault">
        Show Archive Assets Only
      </label>
    </div>
    <div class="search-bar" *ngIf="selectedView === 'table'">
      <input type="text" id="filter-text-box" placeholder="Filter" [(ngModel)]="searchValue"  (input)="onFilterTextBoxChanged()" />
    </div>
    <div class="export-button" *ngIf="selectedView === 'table'">
      <button (click)="exporttoexcel()">
        <img src="../../../../assets/icons/excel-icon.svg" />
        <span>Export to Excel</span>
      </button>
    </div>
    <div class="filter-button">
      <button data-toggle="modal" data-target="#filterModal">
        <img src="../../../../assets/icons/filter-icon.svg" />
        <span>Filter</span>
      </button>
    </div>
  </div>
</div>

<div class="assetcolumns" *ngIf="selectedView === 'card'">
    <div class="left-container">
      <app-devices #appDevices [isArchived]="isArchived" [selectedItem]="selectedItem" [filterData] ="selectedFilter"></app-devices>
    </div>
    <div class="middle-container">
      <app-specification [isArchived]="isArchived" (modelClicked)="showModelTable($event)"></app-specification>
    </div>
    <div class="right-container">
      <app-assign-history></app-assign-history>
    </div>
</div>

<div *ngIf="selectedView === 'table'&& selectedModel==null">
  <app-table-view [rowData]="rowData" [colDefs]="colDefs" [searchValue]="searchValue"></app-table-view>
</div>

<div *ngIf="selectedView === 'table' && selectedModel!=null">
  <app-table-view [rowData]="modelRowDef" [colDefs]="deviceModelColDefs" [searchValue]="searchValue"></app-table-view>
</div>
